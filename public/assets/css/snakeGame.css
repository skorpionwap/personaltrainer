/* assets/css/snakeGame.css */

/* Variabile de culoare (opțional, Tailwind deja oferă un sistem robust) */
:root {
    --snake-game-text-default: #e2e8f0; /* gray-200 */
    --snake-game-text-dim: #94a3b8;    /* gray-400 */
    --snake-game-bg-dark: #1e293b;     /* gray-800 */
    --snake-game-bg-medium: #293446;   /* custom, similar cu gray-700/800 */
    --snake-game-bg-light: #374151;    /* gray-700 */
    --snake-game-accent-yellow: #facc15; /* yellow-400 */
    --snake-game-accent-green: #4ade80; /* green-400 */
    --snake-game-accent-blue: #60a5fa;  /* blue-400 */
    --snake-game-accent-red: #f87171;   /* red-400 */
}

/* Containerul modal principal pentru joc */
#snakeGameModalContainer {
    /* display: none; (gestionat de JS) */
    /* Tailwind classes: fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 p-4 */
    /* Poți adăuga aici un backdrop-filter dacă dorești un efect de blur */
    /* backdrop-filter: blur(4px); */
}

#snakeGameModalContent {
    /* Tailwind classes: bg-gray-900 p-1 sm:p-2 rounded-lg shadow-xl relative w-full max-w-lg ... aspect-[4/3.5] ... */
    /* Asigură-te că aspect-ratio funcționează bine sau ajustează height/max-height */
    /* max-height: 95vh; poate fi mai util decât aspect-ratio fix pentru diverse ecrane */
    border: 1px solid #4b5563; /* gray-600, un mic chenar */
}

/* Wrapper-ul intern injectat de JS, dacă #snakeGameWrapper este direct în #snakeGameModalContent */
#snakeGameModalContent #snakeGameWrapper {
    /* Tailwind: h-full w-full flex-grow flex flex-col justify-center items-center ... */
    /* background-color: #222c36; (deja inline, poate fi aici) */
    /* border-radius: 0.5rem; (deja inline, poate fi aici) */
}

/* Interfața principală a jocului */
#snakeGameInterface {
    /* Tailwind: text-gray-200 text-center w-full h-full flex flex-col p-2 */
    /* background: #293446; (deja inline) */
    font-family: 'Ubuntu', 'Roboto', sans-serif; /* Font specific pentru joc */
    color: var(--snake-game-text-default);
}

#snakeGameInterface h2 {
    /* Tailwind: text-xl sm:text-2xl text-yellow-300 mb-1 font-semibold */
    /* color: var(--snake-game-accent-yellow); */
}

#snakeGameInterface .score,
#snakeGameInterface .values {
    /* Tailwind: text-xs sm:text-sm mb-1 */
    color: var(--snake-game-text-dim);
}
#snakeGameInterface .score span,
#snakeGameInterface .values span span { /* Targetează valorile numerice */
    /* Tailwind: font-bold ... */
    /* Culoarea specifică e deja setată de Tailwind (text-green-400 etc.) */
}

#snakeIntro {
    /* Tailwind: hidden bg-gray-700 p-2 sm:p-3 rounded-lg my-1 text-sm text-center */
    background-color: rgba(0,0,0,0.2); /* Fundal mai subtil pentru intro */
    border: 1px solid var(--snake-game-bg-light);
}

#snakeCanvas {
    /* Tailwind: focus:outline-none focus:ring-2 focus:ring-green-500 rounded-md shadow-lg block mx-auto mb-1 flex-shrink-0 */
    /* background: #1d2230; (deja inline) */
    /* max-width: 100%; height: auto; (deja inline) */
    border: 2px solid #4b5563; /* gray-600, un chenar mai vizibil pentru canvas */
    image-rendering: pixelated; /* Pentru un aspect retro, dacă dorești */
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

#snakeStatus {
    /* Tailwind: flex gap-1 sm:gap-2 justify-center my-1 text-xs sm:text-sm */
    min-height: 28px; /* Spațiu pentru efecte chiar dacă e gol */
}

#snakeControls {
    /* Tailwind: controls text-gray-400 text-xs sm:text-sm mb-1 */
    color: var(--snake-game-text-dim);
}

/* Butoanele principale din joc */
#snakeGameInterface .flex.gap-1 button,
#snakeGameInterface .flex.gap-2 button {
    /* Tailwind: px-2 py-1 sm:px-3 sm:py-1.5 ... text-xs sm:text-sm rounded-md shadow */
    /* Poți adăuga aici un font-weight sau tranziții dacă nu sunt acoperite */
    font-weight: 500;
    transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
}
#snakeGameInterface .flex.gap-1 button:hover,
#snakeGameInterface .flex.gap-2 button:hover {
    transform: translateY(-1px);
}
#snakeGameInterface .flex.gap-1 button:active,
#snakeGameInterface .flex.gap-2 button:active {
    transform: translateY(0px);
}


/* Stiluri Generale pentru Modalele Jocului (Jurnal, Shop, Minigame) */
/* Clasa .modal-overlay este definită în JS (gameStyles) - o replicăm aici pentru referință și posibile ajustări */
.modal-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(17, 24, 39, 0.85); /* gray-900 cu mai mult opacity */
    display: flex; /* Tailwind: flex */
    align-items: center; /* Tailwind: items-center */
    justify-content: center; /* Tailwind: justify-center */
    z-index: 1000; /* Asigură-te că e deasupra celorlalte elemente, inclusiv chat-ul AI */
    padding: 1rem; /* Tailwind: p-4 */
    backdrop-filter: blur(3px);
    -webkit-backdrop-filter: blur(3px);
}

.modal-content {
    background-color: var(--snake-game-bg-medium); /* #2d3748 era gray-800, acesta e mai specific */
    color: var(--snake-game-text-default);
    padding: 1rem 1.5rem 1.5rem 1.5rem; /* Tailwind: p-6, ajustat puțin */
    border-radius: 0.5rem; /* Tailwind: rounded-lg */
    box-shadow: 0 10px 25px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.1); /* Umbră + chenar fin */
    width: 100%;
    max-width: 480px; /* Puțin mai mic decât 500px standard pentru a se potrivi mai bine pe ecrane medii */
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    border: 1px solid #4b5563; /* gray-600 */
}

.modal-title {
    font-size: 1.125rem; /* Tailwind: text-lg */
    line-height: 1.75rem; /* Tailwind: leading-7 */
    font-weight: 600; /* Tailwind: font-semibold */
    color: var(--snake-game-accent-yellow);
    margin-bottom: 1rem; /* Tailwind: mb-4 */
    text-align: center;
}

.modal-textarea {
    width: 100%;
    padding: 0.625rem 0.75rem; /* Tailwind: p-2.5 sau p-3 */
    background-color: var(--snake-game-bg-light); /* gray-700 */
    border-radius: 0.375rem; /* Tailwind: rounded-md */
    border: 1px solid #4b5563; /* gray-600 */
    color: var(--snake-game-text-default);
    min-height: 90px; /* Tailwind: aprox h-24 */
    margin-bottom: 1rem;
    font-size: 0.875rem; /* text-sm */
}
.modal-textarea:focus {
    outline: none;
    border-color: var(--snake-game-accent-blue);
    box-shadow: 0 0 0 2px rgba(var(--snake-game-accent-blue), 0.4); /* Culoare shadow mai potrivită */
}

.modal-scroll-content {
    background-color: var(--snake-game-bg-light);
    padding: 0.75rem;
    border-radius: 0.375rem;
    margin-top: 0.75rem;
    max-height: 180px; /* Ajustat */
    overflow-y: auto;
    font-size: 0.8rem; /* Puțin mai mic */
    border: 1px solid #4b5563; /* gray-600 */
}
.modal-scroll-content div { /* Fiecare intrare din jurnalul vizualizat */
    padding-bottom: 0.5rem;
    margin-bottom: 0.5rem;
    border-bottom: 1px solid #4b5563; /* gray-600 */
}
.modal-scroll-content div:last-child {
    border-bottom: none;
    margin-bottom: 0;
}
.modal-scroll-content p {
    word-break: break-word; /* Asigură împărțirea cuvintelor lungi */
}

.modal-actions {
    margin-top: 1rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem; /* Tailwind: gap-2 */
    justify-content: flex-end;
}

.modal-actions button, .shop-item-btn { /* Stil comun pentru butoanele din modalele jocului */
    color: white;
    padding: 0.5rem 0.875rem; /* Tailwind: py-2 px-3.5 */
    border-radius: 0.375rem; /* Tailwind: rounded-md */
    font-size: 0.75rem; /* Tailwind: text-xs */
    font-weight: 500; /* Tailwind: font-medium */
    text-transform: uppercase;
    letter-spacing: 0.05em; /* Tailwind: tracking-wider */
    transition: background-color 0.2s, transform 0.1s;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}
.modal-actions button:hover, .shop-item-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
}
.modal-actions button:active, .shop-item-btn:active {
    transform: translateY(0);
}

/* Culori specifice butoanelor de modal, definite în JS dar pot fi centralizate aici */
.modal-btn-primary    { background-color: #2563eb; /* Tailwind: bg-blue-600 */ } .modal-btn-primary:hover    { background-color: #1d4ed8; /* bg-blue-700 */ }
.modal-btn-secondary  { background-color: #ca8a04; /* Tailwind: bg-yellow-600 */ color: var(--snake-game-bg-dark) !important; } .modal-btn-secondary:hover  { background-color: #a16207; /* bg-yellow-700 */ }
.modal-btn-neutral    { background-color: #4b5563; /* Tailwind: bg-gray-600 */ } .modal-btn-neutral:hover    { background-color: #374151; /* bg-gray-700 */ }
.modal-btn-danger     { background-color: #dc2626; /* Tailwind: bg-red-600 */ } .modal-btn-danger:hover     { background-color: #b91c1c; /* bg-red-700 */ }

/* Shop Items */
.shop-item-btn {
    width: 100%;
    text-align: left;
    background-color: var(--snake-game-accent-blue); /* Tailwind: bg-blue-500 era în JS */
    margin-bottom: 0.5rem;
}
.shop-item-btn:hover {
    background-color: #2563eb; /* Tailwind: bg-blue-600 */
}
.shop-item-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    background-color: var(--snake-game-bg-light) !important; /* Suprascrie hover */
    transform: none !important;
    box-shadow: none !important;
}
.shop-item-cost {
    font-size: 0.7rem; /* Tailwind: text-xs */
    color: var(--snake-game-text-dim); /* gray-400 */
    margin-top: 0.125rem; /* Tailwind: mt-0.5 */
}
.shop-item-btn div:first-child { /* Numele itemului */
    font-weight: 500;
}


/* Efectul de flash text */
#snakeEffect.game-effect { /* Asigură specificitate mai mare */
    position: absolute;
    left: 50%;
    top: 15%; /* Puțin mai sus */
    transform: translate(-50%, -50%);
    font-size: 1.25rem; /* Ajustat */
    font-weight: bold;
    color: var(--snake-game-accent-yellow);
    text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Adaugă transform pentru un efect de "pop" */
    z-index: 100;
    padding: 0.5rem 1rem;
    background-color: rgba(30, 41, 59, 0.7); /* gray-800 cu alpha */
    border-radius: 0.5rem;
    border: 1px solid rgba(255,255,255,0.1);
    max-width: 90%;
    line-height: 1.3;
}
#snakeEffect.game-effect.positive { color: var(--snake-game-accent-green); }
#snakeEffect.game-effect.negative { color: var(--snake-game-accent-red); }
#snakeEffect.game-effect[style*="opacity: 1"] { /* Când e vizibil */
    transform: translate(-50%, -50%) scale(1.05);
}


/* Bara de status pentru efecte active */
#snakeStatus .stat-effect {
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: rgba(0,0,0,0.35);
    padding: 3px 6px;
    border-radius: 4px;
    margin: 0 2px;
    font-size: 0.65rem; /* Micșorat */
    color: var(--snake-game-text-default);
    min-width: 55px;
    text-align:center;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}
#snakeStatus .stat-effect.neg-effect span:first-child { /* Textul efectului negativ */
    color: var(--snake-game-accent-red);
    font-weight: 500;
}
#snakeStatus .effect-bar-container {
    width: 100%;
    height: 3px; /* Subțiat */
    background-color: rgba(255,255,255,0.15);
    border-radius: 2px;
    margin-top: 2px;
    overflow: hidden;
}
#snakeStatus .effect-bar {
    height: 100%;
    background-color: var(--snake-game-accent-green);
    border-radius: 2px;
    transition: width 0.1s linear; /* Suficient de rapid */
}
#snakeStatus .stat-effect.neg-effect .effect-bar {
    background-color: var(--snake-game-accent-red);
}


/* Butonul de lansare modal joc (din psihoterapie.html) */
#launchGameModalButton.button-primary {
    /* Moștenește stilurile .button-primary din psihoterapie.css */
    /* Poți adăuga aici suprascrieri dacă e necesar */
    font-size: 1rem;
    padding: 0.6rem 1.2rem;
    margin-top: 0.5rem;
}

/* Separator de secțiune (dacă e folosit în psihoterapie.html) */
.section-divider {
    margin-top: 1.5rem; /* Ajustat */
    margin-bottom: 1.5rem;
    border: 0;
    border-top: 1px solid #374151; /* gray-700, mai subtil */
}

/* Responsive adjustments specific to game interface if needed beyond Tailwind */
@media (max-width: 480px) {
    #snakeGameInterface h2 {
        font-size: 1.25rem; /* text-xl */
    }
    #snakeGameInterface .score,
    #snakeGameInterface .values,
    #snakeControls,
    #snakeStatus .stat-effect {
        font-size: 0.7rem; /* Mai mic pe ecrane foarte mici */
    }
    #snakeGameInterface .flex.gap-1 button,
    #snakeGameInterface .flex.gap-2 button {
        padding: 0.375rem 0.625rem; /* py-1.5 px-2.5 */
        font-size: 0.7rem;
    }
    #snakeEffect.game-effect {
        font-size: 1.1rem;
        padding: 0.4rem 0.8rem;
    }
    .modal-content {
        padding: 1rem;
    }
    .modal-title {
        font-size: 1rem;
    }
    .modal-textarea {
        min-height: 70px;
    }
    .modal-actions button, .shop-item-btn {
        padding: 0.4rem 0.75rem;
        font-size: 0.7rem;
    }
}